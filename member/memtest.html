<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .containermember {
            margin: 0 auto;
            display: grid;
            grid-row-gap: 20px;
            grid-column-gap: 15px;
            width: 80%;
            height: 1000px;
            grid-template: 50% 50%/60% 40%;
        }
        .per {
            grid-row: 1/2;
            grid-column: 1/2;
            background-color: chocolate;
            border-radius: 10px;
        }
        .shp {
            grid-row: 1/2;
            grid-column: 2/3;
            background-color: blueviolet;
            border-radius: 10px;
        }

        .art {
            grid-row: 2/3;
            grid-column: 1/3;
            background-color: cadetblue;
            border-radius: 10px;
        }

        fieldset {
            margin: 0 auto;
            border-radius: 10px;
            width: 60%;
        }

        table {
            margin: 0 auto;

        }

        </style>    

    <script>
        function displayData() {
            // 從資料儲存位置檢索資料
            const storedData = JSON.parse(localStorage.getItem('memberData')) || {};

            // 在表單中呈現資料
            document.getElementById('id').value = storedData.id || '';
            document.querySelector(`input[name="gender"][value="${storedData.gender || ''}"]`).checked = true;
            document.getElementById('birth').value = storedData.birth || '';
            document.getElementById('lefteye').value = storedData.lefteye || '';
            document.getElementById('righteye').value = storedData.righteye || '';
            document.getElementById('address').value = storedData.address || '';
        }

        function updateData() {
            //取得資料
            const formData = {
                id: document.getElementById('id').value,
                gender: document.querySelector('input[name="gender"]:checked').value,
                birth: document.getElementById('birth').value,
                lefteye: document.getElementById('lefteye').value,
                righteye: document.getElementById('righteye').value,
                address: document.getElementById('address').value,
            };

            
            localStorage.setItem('memberData', JSON.stringify(formData)); //改成儲存在後端資料庫

            alert('資料已更新！');
        }
    </script>
</head>
<body onload="displayData()">
    <header>
    </header>
    <div class="containermember">
        <div class="per">
            <form method="post" action="">
                
                <fieldset>
                    <legend><h2>會員基本資料</h2></legend>
                    <table border="1">
                        <tr>
                            <th>帳號</th>
                            <td><input type="text" name="id" id="id"></td>
                        </tr>
                        <tr>
                            <th>性別</th>
                            <td><input type="radio" class="sex" name="gender" value="男">男<input type="radio" class="sex" name="gender" value="女">女</td>
                        </tr>
                        <tr>
                            <th>生日</th>
                            <td><input type="date" name="birth" id="birth"></td>
                        </tr>

                        <tr>
                            <th>度數</th>
                            <td>
                                左眼:
                                <select size="1" name="lefteye" id="lefteye">  <!--先放這樣，根據商品的度數還會在增加-->
                                    <option>1.00</option>
                                    <option>1.25</option>
                                    <option>1.50</option>
                                    <option>1.75</option>
                                </select>
                                右眼:
                                <select size="1" name="righteye" id="righteye"> <!--先放這樣，根據商品的度數還會在增加-->
                                    <option>1.00</option>
                                    <option>1.25</option>
                                    <option>1.50</option>
                                    <option>1.75</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>地址</th>
                            <td><input type="text" id="address"></td>
                        </tr>
                    </table>
                    <input type="button" value="更新資料" onclick="updateData()">
                </fieldset>
            </form>
        </div>
        <div class="shp">
            
        </div>
        <div class="art">
              
        </div>
        
    </div>
    
</body>
</html>